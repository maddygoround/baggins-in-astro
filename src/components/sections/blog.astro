---
import { type Post } from "../../types/blog"
import { formatDate } from "../../core/utils"

interface BlogProps {
  posts: Post[]
}

const { posts } = Astro.props as BlogProps
---

<div class='my-8 mx-4 md:mx-auto max-w-2xl'>
  <div class='my-8'>
    <h1 class='text-4xl font-bold md:text-center'>Blog</h1>
    <h2 class='text-xl text-gray-700 md:text-center'>
      Writing about coding, design and things I like
    </h2>
  </div>

  <ul>
    {
      posts.map((post) => (
        <li>
          <a
            href={`/blog/${post.slug}`}
            class='my-2 py-4 px-4 -mx-4 hover:bg-gray-100 rounded-md block'
          >
            <div class='flex justify-between'>
              <span class='text-blue-600'>{post.title}</span>
              <span class='text-gray-600'>{formatDate(post.date)}</span>
            </div>
            <div class='mt-1 text-gray-700 mr-4'>{post.preview}</div>
          </a>
        </li>
      ))
    }
  </ul>
</div>
